# NBA Prospect Three-Point Shooting Predictor
![Image Alt text](/Images/buddy.webp)
## Business Understanding
### The Evolution of the NBA and the Rise of Three-Point Shooting
In the modern NBA, the [emphasis on three-point shooting has dramatically reshaped the game](https://www.nba.com/news/3-point-era-nba-75), altering team strategies and player development. This evolution has [elevated the importance of proficiency in three-point shooting](https://www.theringer.com/nba/2021/2/12/22279459/nba-make-miss-3-point-shooting) to an essential skill for players across all positions. Being adept at long-range shooting is now a critical factor in a player's career, influencing their ability to secure a spot on a team and potentially impacting their market value. As a result, NBA teams are [increasingly focusing on developing this skill in their players](https://www.cbssports.com/nba/news/thunder-hire-chip-engelland-nbas-top-shooting-coach-who-spent-17-years-with-spurs-per-report/), leveraging targeted training and analytics to enhance shooting effectiveness.
### Challenges in Evaluating Three-Point Shooting Talent
As the NBA's emphasis on three-point shooting continues to grow, its impact on the draft and scouting processes has become increasingly significant. However, [accurately projecting a college player's three-point shooting ability to the NBA level is a challenging aspect of scouting](https://theboxandone.substack.com/p/can-we-trust-pre-draft-shooting-improvements#:~:text=Shooting%20is%20such%20an%20important,the%20ultimate%20mental%20torture%20chamber.). This difficulty arises because players' shooting performances can vary widely once they transition from college basketball to the professional stage. Some players may significantly improve their shooting due to advanced training methods and a focus on skill development, while others may struggle to replicate their college success or fail to develop their shooting abilities further.

[A key issue in this scouting dilemma is the relatively small sample size of three-point shooting attempts in college](https://fansided.com/2020/07/20/nba-draft-shooting-synopsis-volume-versatility/), which can lead to unstable and misleading percentages. This makes it hard for scouts and teams to confidently predict which players will continue to excel as three-point shooters, who will improve with time and training, and who might not transition their shooting skills effectively to the professional level. Despite the critical role of three-point shooting in determining a player's impact in the NBA, the unpredictability of shooting development post-college remains a significant challenge for teams looking to draft prospects with the potential to excel in today's game.
### Predictive Modeling: A Solution to Three-Point Shooting Evaluation
Given the challenging and often unpredictable nature of assessing college prospects' three-point shooting capabilities for the NBA, this project aims to leverage predictive modeling and machine learning techniques to forecast a player's three-point shooting performance at the professional level. By utilizing a comprehensive dataset of college statistics from current NBA players, with their NBA three-point shooting percentages serving as the target variable, this approach seeks to identify patterns and predictors that may not be immediately apparent through traditional scouting methods.

The rationale behind employing predictive modeling lies in the inherent randomness and difficulty associated with evaluating three-point shooting potential. NBA front offices could greatly benefit from a methodology that offers a more accurate prediction of a prospect's ability to shoot from long range, based solely on statistical analysis. This would allow teams to allocate their scouting resources and attention more efficiently, focusing on assessing other aspects of a player's game that are less random and more observable through traditional evaluation methods.
This strategic shift in talent evaluation emphasizes the development and recognition of well-rounded players, while still acknowledging the critical role that three-point shooting plays in the modern NBA. Through this project, I aim to provide NBA front offices with a tool that enhances their ability to predict three-point shooting success, optimizing the draft and development process by using data-driven insights to complement traditional scouting expertise.
## Data Understanding
In this project, I aim to predict the NBA three-point shooting percentages of college basketball prospects. To achieve this, I have sourced and combined comprehensive datasets that encompass both NCAA player statistics and NBA player three-point shooting statistics. Understanding the structure, content, and quality of this data is crucial for my analysis and subsequent predictive modeling.
### NCAA Player Statistics
The dataset for [NCAA player statistics was downloaded from BartTorvik.com](https://barttorvik.com/playerstat.php?link=y&year=2024&start=20231101&end=20240501), covering every NCAA season from 2007-08 to 2021-22. This dataset includes a wide range of player statistics, such as points per game, assists, rebounds, and, critically for my project, three-point shooting percentages. After downloading the CSV files for each season, they were merged into a single CSV file to create a comprehensive dataset. This consolidation process was essential for analyzing trends over time and ensuring a robust sample size for our predictive models. Importing this combined dataset into a Pandas DataFrame allows for efficient data manipulation and analysis within a Python environment.
### NBA Player Three-Point Shooting Statistics
For the NBA player statistics, I focused on three-point shooting data from the regular seasons spanning from 2008-09 through the current season, as I only had access to college player data beginning in the 2007-08 season. This data was [sourced from Stathead.com](https://stathead.com/basketball/player-season-finder.cgi), specifically selecting players with a minimum of 82 games played to ensure I am considering only those with a significant amount of playtime, thereby improving the reliability of the three-point percentage as a metric. This dataset provides a critical linkage to the NCAA dataset, as it enables us to compare college performance with professional outcomes, focusing on the aspect of three-point shooting. Most of the statistics in this data set will be Per 100 possessions, as we will need this to update the target variable, as I will explain in detail in the Data Cleaning section.
### Caveats and Considerations
An important caveat of this project is the exclusion of international prospects and players from the G-League Ignite who are increasingly making up a significant portion of NBA draft picks each season. This exclusion is due to the unavailability of comparable and consistent data for these groups that align with the NCAA dataset. This limitation means the predictive model may not fully capture the broader spectrum of talent entering the NBA, as the pathways for developing basketball players continue to diversify beyond traditional college basketball.
## Data Cleaning
### Target Engineering
When assessing NBA three-point shooting skill, it's crucial to recognize that not all three-point shots are created equal. A simple three-point shooting percentage, while useful, doesn't fully capture a player's shooting ability. This metric can be misleading, as it doesn't account for the context in which shots are taken. Players who only attempt three-pointers when wide open may have inflated percentages compared to those who frequently shoot under more challenging conditions.

To address this discrepancy and create a more nuanced target variable for our predictive modeling, I have refined the traditional three-point shooting percentage. Our engineered target metric adjusts a player's three-point percentage by considering the volume of three-pointers attempted per 100 possessions. This adjustment acknowledges that players who shoot more often are likely taking harder shots, thus providing a better indicator of true shooting skill.

Additionally, we've introduced a slight adjustment factor based on the total number of three-point attempts a player has made over their career. This factor is rooted in the principle that a larger sample size of shot attempts offers a more stable and reliable measure of a player's three-point shooting talent. It accounts for the variability and noise in shooting percentages, especially in cases where players have fewer attempts. Essentially, our engineered target variable aims to balance percentage accuracy with shot difficulty and confidence in a player's shooting ability derived from their attempt volume.

This methodological refinement ensures that our predictive model considers not just how accurately players shoot from beyond the arc, but also the context of their shooting—leading to a more accurate assessment of three-point shooting skill in the NBA.

After creating the Confidence and Volume-Adjusted 3P% metric, here is how our list of top 20 shooters by percentage changed:
![Image Alt text](/Images/traditional_vs_adjusted_chart.png)

Drawing on domain knowledge, the Adjusted 3P% metric emerges as a superior indicator of three-point shooting prowess. For instance, Stephen Curry, widely acknowledged as the greatest three-point shooter in history, ascends from 8th place based on traditional 3P% to the top position when considering Adjusted 3P%. Conversely, Tony Bradley, who leads in three-point percentage, experiences a significant drop in the rankings due to his low rate of 0.3 three-point attempts per 100 possessions. Bradley, primarily a center who rarely shoots from beyond the arc, has only attempted 12 three-pointers in his career, suggesting that his 50% success rate is more likely a result of small sample variance rather than genuine shooting prowess. Another notable example is Kelenna Azubuike, recognized as a proficient three-point shooter but not among the elite. While he ranks fourth in traditional 3P%, his position drops out of the Top 20 in Adjusted 3P% due to taking only 4.5 three-point shots per 100 possessions throughout his career. This adjustment reflects a more nuanced understanding of a player's ability to shoot three-pointers, accounting for both accuracy and the difficulty level of the shots attempted.
### Feature Selection and Engineering
For feature selection, I looked for metrics that are directly associated with shooting ability, including three-point shooting percentages, free throw percentages, and mid-range shooting percentages. These statistics serve as direct indicators of a player's shooting skill.

Beyond specific shooting metrics, a broader set of offensive statistics were retained to capture overall offensive capabilities, which could indirectly predict future shooting success. This includes points per game, which reflects scoring ability, as well as advanced metrics like PORPAG (Points Over Replacement Player per Adjusted Game), O_BPM (Offensive Box Plus-Minus), and Adjusted Offensive Efficiency. These measures offer a nuanced view of a player's offensive contribution and efficiency.

Additionally, other secondary statistics such as block percentage (BLK%), defensive rebounding percentage (DRB%), and assist percentage (AST%) were considered. These metrics, while not directly related to shooting, may provide insights into a player's athleticism, basketball IQ, and overall offensive skill set, all of which can influence shooting development.

Recruiting Rank was also be included in the analysis and further transformed into a binary variable to explore its potential correlation, whether negative or positive, with shooting skill. This reflects the hypothesis that higher-ranked college recruits may possess attributes conducive to or detracting from effective shooting.

Furthermore, Games Played and Class are selected to account for the extent of college experience and its impact on the statistical representation of a player's abilities. The inclusion of player names and year will facilitate further feature engineering and analysis, although will not be among the final features.

By carefully selecting these features, I aim to encompass a comprehensive array of factors that contribute to shooting effectiveness, thereby enhancing the model's predictive accuracy for NBA 3-point shooting percentages.
### Cleaning the NCAA Data
The process of cleaning the NCAA player dataset started with the elimination of entries for college athletes sharing names with NBA players, or NBA players who were in college before the 2007-08 season (the first season I have college data), but share a name with player(s) in college after between the 2007-08 and 2021-22 season. This ensured a distinct set of individuals for analysis. This initial step resulted in a curated list of 559 unique players.

Subsequent efforts focused on consolidating the data for athletes with multiple seasons of college play. This was achieved by aggregating individual season statistics into a single row per player. To further refine the dataset, statistical percentages from each player's final college season were assigned increased significance compared to earlier seasons. This approach was predicated on the rationale that a player's most recent performance is likely a more accurate indicator of their current abilities and potential future success.
## Modeling
In this section, I performed my predictive modeling, aiming to forecast NBA three-point shooting percentages based on collegiate profiles.  The process began with a train-test split of our dataset, ensuring a robust framework for training our models and evaluating their predictive performance on unseen data. This step is fundamental to prevent data leakage and to simulate a real-world application of my model. I also created pipelines for each model, which included a StandardScaler to normalize our numerical features (there are no categorical features). I also used Grid Searching to try to improve my models' cross validation scores (on R-Squared and RMSE (Root Mean Squared Error)) by systematically searching for optimal hyperparameters. A dummy model that predicts the mean of the target was also used as a baseline to compare my results to.

Several regression models were used: Linear Regression, Ridge Regression, Random Forest Regression, Support Vector Regression, XGBoost Regression, and AdaBoost Regression. The effectiveness of each model was assessed based on the R-Squared and Root Mean Square Error (RMSE) on Cross Validation.
![Image Alt text](/Images/model_performance.png) 
## Evaluation
### Choosing a Final Model
For choosing a final model, I evaluated each of my model's performance on cross valdiation using R-Squared and RMSE. R-squared quantifies the proportion of variance in the target variable (three-point shooting percentages) explained by the model, offering insight into the model's explanatory power and how well it captures the underlying pattern of the data. RMSE, on the other hand, measures the average magnitude of the model's prediction errors, providing a clear indication of the model's accuracy in predicting NBA three-point shooting percentages on a scale that is directly interpretable in the context of the target variable. By utilizing both R-squared and RMSE, I aim to assess not only how well the model fits the data overall but also how precise the individual predictions are, ensuring a comprehensive evaluation of the model's performance in forecasting NBA three-point shooting success.

Ultimately, the best model based on these metrics was the Support Vector Regression. One thing I noticed when evaluating each model on cross validation was that the linear-based models performed better and were less overfit, even after extensive grid searching and hyperparamater tuning, than the tree based models (Random Forest and AdaBoost). This could mean that the target was best predicted by the features most linear with it, and that complex relationships between the features were either not present or not as relevant in predicting NBA three-Point shooting. Additonally, the dataset I am working with is relatively small (559 rows), which could have made it more prone to overfitting to the training data due to the complexity of the tree-based models compared to the linear ones. 

After choosing my best model (Support Vector Regression), I evaluated the best model by predicting on the test set and comparing to my dummy model:
[INSERT SVR RESULTS IMAGE
### Performance on Test Set
The performance of the SVR model on the test set, indicated by an R-squared value of 0.4708 and an RMSE of 0.0645, provides valuable insights into its predictive capabilities for the NBA three-point shooting. The R-squared value suggests that the model explains approximately 47% of the variance in three-point shooting percentages among NBA players based on their college profiles. While this demonstrates a moderate level of predictive power, indicating that the model captures a portion of the relationship between college performance and NBA three-point shooting, the R-squared is notably lower than what was observed during cross-validation. This discrepancy may suggest that the model, despite being the best among those tested, could be overfitting to the training data or that the cross-validation performance optimistically estimated the model's generalizability to unseen data.

However, the RMSE value, which measures the average deviation of the predicted three-point percentages from the actual values, is relatively low, signifying that the model's predictions are on average within about 6.45% of the adjusted three-point shooting percentages. The fact that the RMSE is better (lower) on the test set compared to the cross-validation performance indicates that the model is quite effective at making precise predictions, even if it doesn't capture all the variability in the data. This could be particularly valuable in a business context where making accurate predictions about a player's three-point shooting ability can inform scouting decisions, player evaluations, and team compositions.

###Feature Importance
Feature Importance in the SVR Model was assessed through Coefficent Magnitude and Perumtation Feature performance:
![Image Alt text](/Images/coefficent_magnitude.png) 
![Image Alt text](/Images/permutation_importance.png) 
##### Feature Importance Analysis
When assessing the coefficient magnitude and the permutation feature importance, FT% (free throw percentage), 3PT/100 (Three-Pointers per 100 Possessions), 3P (three pointers made) are consistently important predictors of NBA three-point shooting skill. This aligns with the previous discussion of three-point percentage alone not being as indiciative of three-point shooting skill as it might seem, as some players may be taking a higher volume of shots per possession and also may be taking more difficult shots as a byproduct of this. Additonally, players generally dont take that large a sample of three pointers during their college careers, so college three-point percentage is quite susceptible to noise, making it less reliable for predicting future performance. 

Free throw percentage (FT%), on the other hand, can be a better predictor for a few reasons. First, it shows how well a player can shoot when conditions are controlled - no defenders, same distance every time. So is also arguably as good at, if not better at, indiciating a player's overall 'shooting touch' than three-point percentage. Another factor is players usually take many more free throws in college than three pointers, and free throws are less prone to variance in general because they are higher-percentage shots, so this gives us a larger sample to work with and is a more reliable measure of a player’s shooting ability.

The stat 3PT/100 is also useful. It tells us not just how many threes a player makes, but how willing they are to take them. Good shooters are likely to shoot more threes, both because they themselves have been considered good shooters in the past (high school and team practices) and because their coaches set up plays for them to shoot from distance. Also, if a player is shooting more threes per possession, they’re probably taking more difficult shots too, rather than only shooting when they find themselves wide open. And it is also possibly true that shooting more often in games might indicate and/or lead to better shooting improvement and developement in the future. 

Overall, these findings show that how often players shoot and their free throw percentages might give us better clues about their future NBA three-point shooting than just their college three-point shooting percentage. This approach recognizes that predicting shooting skill is about more than just the percentage of three pointers a player makes; it's also about their overall shooting habits and how they fit into the game.
## Showcasing my Best Model's Performance on Current NBA Rookies and the Upcoming 2024 NBA Draft Class (as of February 14, 2024) 
###Current NBA Rookies

###2024 NBA Draft Class College Prospects

## Conclusion
In conclusion, as the NBA continues to evolve with a heightened emphasis on three-point shooting, the ability to accurately predict a player's long-range shooting potential from their college performance becomes increasingly valuable. Our best-performing model, the Support Vector Regression, showcases promising results with an R-squared of 0.4708 and an RMSE of 0.0645. While these figures, particularly the modest improvement of just over 2.5% in RMSE compared to the baseline Dummy Model, might not initially appear groundbreaking, they represent a significant step forward in the notoriously challenging task of predicting NBA three-point shooting ability based solely on a prospect's profile.

This level of predictive accuracy, when considering the complexities and variabilities inherent in shooting development and performance transition from college to the NBA, underscores the model's utility for NBA front offices. It suggests that, despite the inherent difficulties in such predictions, the insights gained from this model are substantial enough to merit consideration in the scouting and evaluation processes. The ability to outperform a mean-predicting model by a margin that, while seemingly small, is practically significant, highlights the potential of leveraging advanced analytics in complementing traditional scouting methods.

Therefore, even though the quest to perfectly predict three-point shooting capabilities from a player's college career remains a formidable challenge, the advancements demonstrated by our predictive modeling approach offer a compelling case for its integration into NBA team strategies. By equipping front offices with a more nuanced and unbiased tool for assessing shooting potential, this project contributes to the refinement of talent evaluation, which is crucial for building competitive rosters in an era where three-point shooting is not just an advantage but a necessity. Overall, this utilization of data-driven analysis to complement scouting expertise paves the way for more efficient and informed decision-making among NBA front offices.
## Next Steps
To improve our predictive modeling of NBA three-point shooting from prospect profiles, here are some potential next steps:

1. Refine the NBA Adjusted 3P% Target: Incorporate shot tracking and location data, along with off-the-dribble shooting statistics, for a more detailed representation of three-point shooting abilities by further accounting for shot difficulty.

2. Expand the Dataset: Try to incorporate international players and G-League Ignite prospects to reflect the NBA's growing talent sources, improving the model's comprehensiveness and applicability.

3. Explore Advanced Models: Implement neural networks and Stacking models to better capture complex relationships in the data, aiming for a combination of linear and non-linear model strengths.

## Repo Structure 
```
├── Data
├── Images
├── Notebooks
├── .gitignore
├── Final.ipynb
├── LICENSE
├── README.md
```

